# ZJJ Repository - AI Agent Instructions

This is the ZJJ repository itself. If you're working on a bead/issue:

## You Should Be Invoked Via zjj spawn

If you're working on a bead, you should have been invoked via:
```bash
zjj spawn <bead-id> -- <your-command>
```

This creates an isolated workspace at `.zjj/workspaces/<bead-id>/` and:
- Sets `ZJJ_BEAD_ID` and `ZJJ_WORKSPACE` environment variables
- Automatically merges your work on success
- Cleans up the workspace when done

## Working on ZJJ Itself

If you're working directly on the ZJJ codebase (not on a bead):

**All build commands must use Moon:**
```bash
moon run :quick      # Format + type check
moon run :ci         # Full pipeline
moon run :test       # Run tests
```

**Never use `cargo` directly** - this project uses Moon for build orchestration.

## Zero-Policy

ZJJ enforces zero panics and zero unwraps:
- No `.unwrap()`, `.expect()`, `panic!()`, `todo!()`, `unimplemented!()`
- All errors use `Result<T, Error>` with proper propagation
